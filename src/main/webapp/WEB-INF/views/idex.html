
<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
      <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&family=Inter:wght@400&family=Poppins:wght@400&display=swap" rel="stylesheet">
      <link href="/src/main/webapp/assets/css/style-tasks.css" rel="stylesheet">
      <title>Tasks</title>
   </head>
   <body>
      <div class="container">
         
         <div class="top-bar">
            <p>Hello, ${sessionScope.current_username}</p>
            <a href="taskpilot/login"><button class="logout-btn" title="Logout" href="">⎋</button></a>
         </div>

         <header>
            <h1>Tasks</h1>
            <div class="icons">
               <button title="Add Task" class="top-btns" id="btn-plus">+</button>
               <button title="Statistics" class="top-btns">&#128202;</button>
               <button title="Settings" class="top-btns" id="settings">&#9881;</button>
            </div>
         </header>

         <div class="form-background invisible" id="form-background">
            <form action="/taskpilot/Controller_T" class="form-addTask">
               <div class="form-container">
                  <input type="hidden" name="action" value="add_task">

                  <div class="btn-remove-container">
                     <div class="fa fa-remove fa-2x btn-remove" id="btn-remove-form"></div>
                     <p class="form-upper-text">Add a new task</p>
                  </div>
                  
                  <div class="input-label">
                     <label for="task_name">Title:</label>
                     <input type="text" name="task_name" maxlength="75" required>
                  </div>
                  <div class="input-label">
                     <label for="task_description">Description:</label>
                     <input type="text" name="task_description" maxlength="375">
                  </div>
                  <div class="input-label">
                     <label for="task_term">Deadline:</label>
                     <input type="term" name="task_term" id="term-input">
                  </div>

                  <div class="btn">
                     <button type="submit" id="submit-button">Add Task</button>
                  </div>
                  
               </div>
            </form>
         </div>

         <div class="task-list">
               
                  <div class="task-card" id="${task.taskID}">
                     <p class="status">${task.status}</p>
                     <p class="name">${task.name}</p>
                     <p class="description">${task.description}</p>
                     <p class="term">${task.term}</p>

                     
                     

                     <button class="menu-icon" title="Options">⋮</button>
                  </div>
               
            </div>

         <div class="task-data-background " id="ETD_background">
            <form action="/taskpilot/Controller_T" id="form-EditTask">
               <div class="task-data__container" >
                  <input type="hidden" name="action" value="change_task-data">
                  <input type="hidden" name="taskID" id="taskID">
                  

                  <div class="btn-remove-container">
                     <div class="fa fa-remove fa-2x btn-remove" id="btn-remove-form-ETD"></div>
                     <p class="form-upper-text">Edit the task {nameOfTheTask) data</p>
                  </div>

               
                  <div id="task-data__name" class="input-label">
                     <label for="name"> Name: </label>
                     <br>
                     <input type="text" name="name" placeholder="Type here the new name of this task">
                  </div>

                  <div id="task-data__description" class="input-label">
                     <label for="description"> Description: </label>
                     <br>
                     <input type="text" name="description" placeholder="Type here the new description of this task">
                  </div>

                  <div id="task-data__term" class="input-label">
                     <label for="term"> term: </label>
                     <br>
                     <input type="term" name="term">
                  </div>

                  <div id="task-data__status" class="input-label">
                     <label for="status">New status:</label>
                     <br>
                     <select id="status-selection" name="status">
                        <option value="Pending"> Pending </option>
                        <option value="On progress"> On progress </option>
                        <option value="Finished"> Finished </option>
                     </select>

                     <div class="btn">
                           <button type="submit" id="submit-button_ETD">Save Changes</button>
                           <button type="submit" id="submit-button_DT">Delete task</button>
                     </div>
                  </div>
               </div>
            </form>
         </div>

         <div class="user-data-background invisible" id="settings-background">
            <form action="/taskpilot/UserController" class="form-settings">
               <div class="form-container">
                  <input type="hidden" name="action" value="edit_user">

                  <div class="btn-remove-container">
                     <div class="fa fa-remove fa-2x btn-remove" id="btn-remove-settings"></div>
                     <p class="form-upper-text">Edit your profile</p>
                  </div>

                  <div class="input-label">
                     <label for="username">Username:</label>
                     <input type="text" name="username">
                  </div>
                  <div class="input-label">
                     <label for="email">Email:</label>
                     <input type="email" name="email" >
                  </div>
                  <div class="input-label">
                     <label for="password">New Password:</label>
                     <input type="password" name="password">
                  </div>

                  <div class="btn">
                  <button type="submit" id="submit-button">Save Changes</button>
                  </div>
               </div>
            </form>
         </div>

      </div>

      <script src="/src/main/webapp/assets/js/script-task.js"></script>
   </body>
</html>
